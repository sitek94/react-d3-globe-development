(this.webpackJsonpglobe=this.webpackJsonpglobe||[]).push([[0],{78:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),o=n(32),i=n.n(o),a=n(3),s=n(36),u=n(4),l=n(0),d=n.n(l),f=n(16),j=n(8),p=n(35),b="https://unpkg.com/visionscarto-world-atlas@0.0.6/world/110m.json";function h(){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function t(){var e,n,r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(b);case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent,!(r=n.objects.countries)){t.next=12;break}return c=Object(p.a)(n,r),o=c.features,t.abrupt("return",o);case 12:throw new Error('There was no "countries" object in "topology.objects"');case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O="https://gist.githubusercontent.com/sitek94/d1c99f4b1936ad047602cc569d30db6b/raw/countries.csv",m={id:"unknown",name:"unknown",position:[25.027684437991375,-70.99627570018042]};function w(){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(u.a)(O).then((function(t){return t.map((function(t){var e=t.id,n=t.name,r=t.latitude,c=t.longitude;return e&&n&&r&&c?{id:e,name:n,position:[Number(r),Number(c)]}:m}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function t(){var e,n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([h(),w()]);case 2:return e=t.sent,n=Object(a.a)(e,2),r=n[0],c=n[1],t.abrupt("return",y(c,r));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object(f.a)(Object(f.a)({},e),{},{properties:n||m})}))}function k(){var t=r.useState([]),e=Object(a.a)(t,2),n=e[0],c=e[1],o=r.useState("idle"),i=Object(a.a)(o,2),s=i[0],u=i[1],l=r.useState(null),d=Object(a.a)(l,2),f=d[0],j=d[1];return r.useEffect((function(){var t=!0;return u("pending"),function(){return x.apply(this,arguments)}().then((function(e){t&&(u("resolved"),c(e))})).catch((function(e){t&&(u("rejected"),j(e))})),function(){t=!1}}),[]),{countries:n,status:s,error:f}}var S=n(1);function E(t){var e=t.size,n=void 0===e?400:e,c=Object(s.a)(t,["size"]),o=c.oceanColor,i=void 0===o?"#eaedee":o,l=c.landColor,d=void 0===l?"#17181d":l,f=c.svgStyle,j=void 0===f?{fill:d}:f,p=c.circleStyle,b=void 0===p?{fill:i}:p,h=c.height,v=void 0===h?n:h,O=c.width,m=void 0===O?n:O,w=c.initialScale,g=void 0===w?n/2:w,x=c.center,y=void 0===x?[0,0]:x,E=c.rotateX,z=void 0===E?0:E,C=c.rotateY,J=void 0===C?0:C,M=c.rotateZ,N=void 0===M?0:M,A=c.rotation,B=void 0===A?[z,J,N]:A,I=c.dragSensitivity,P=void 0===I?75:I,R=c.minScroll,T=void 0===R?.3:R,X=c.maxScroll,Y=void 0===X?20:X,Z=m/2,q=v/2,D=g,F=r.useRef(null),G=k().countries,H=r.useMemo((function(){return Object(u.c)().scale(g).center(y).rotate(B).translate([Z,q])}),[g,y,B,Z,q]),K=Object(u.d)().projection(H);return r.useEffect((function(){if(F.current&&G.length){var t=Object(u.e)(F.current),e=t.selectAll("path"),n=t.select("circle"),r=e.data(G).join("path"),c=Object(u.f)().on("zoom",(function(t){var e=t.transform.k;e>=Y&&(e=Y),e<=T?e=T:(H.scale(g*e),K.projection(H),n.attr("r",H.scale()),r.attr("d",K))})),o=Object(u.b)().on("drag",(function(t){var e=H.rotate(),n=Object(a.a)(e,2),c=n[0],o=n[1],i=P/H.scale();H.rotate([c+t.dx*i,o-t.dy*i]),K.projection(H),r.attr("d",K)}));t.call(o).call(c),n.attr("r",H.scale()),r.attr("d",K)}}),[g,Y,T,H,G,K,P]),Object(S.jsxs)("svg",{ref:F,width:m,height:v,style:j,children:[Object(S.jsx)("style",{children:"\n          path:hover {\n            fill: blue;\n          }\n        "}),Object(S.jsx)("circle",{cx:Z,cy:q,r:D,style:b}),G.map((function(t){return Object(S.jsx)("path",{onClick:function(){return console.log(t)}},t.id)}))]})}var z=function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)(E,{width:200,height:200}),Object(S.jsx)(E,{width:400,height:400}),Object(S.jsx)(E,{width:800,height:800})]})};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(z,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b9c1bae3.chunk.js.map